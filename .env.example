# Lydie Environment Configuration
#
# This file documents all environment variables used by the application.
# Copy to .env and fill in your values.
#
# DEPLOYMENT MODES:
#   SST (AWS)    — Only the "Secrets & Config" section is needed. SST derives
#                  resource outputs (bucket names, URLs, ARNs) automatically.
#                  Use .env.{stage} files (e.g. .env.production) for per-stage config.
#   Docker/VPS   — All sections are needed. See docker/docker-compose.yml for
#                  defaults that work out of the box for local development.

# ==========================================
# Secrets & Config
# ==========================================
# These are values YOU provide — API keys, credentials, secrets.
# Required for both SST and Docker deployments.

# Database (Required)
DATABASE_URL=postgres://lydie:lydie@localhost:5432/lydie

# Authentication (Required)
# Generate a secure secret: openssl rand -base64 32
BETTER_AUTH_SECRET=change-this-to-a-secure-secret-in-production

# Zero sync server password
ZERO_ADMIN_PASSWORD=admin

# OAuth providers (Optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_PRIVATE_KEY=
GITHUB_APP_SLUG=
SHOPIFY_CLIENT_ID=
SHOPIFY_CLIENT_SECRET=

# AI services (Optional)
OPENAI_API_KEY=
GOOGLE_AI_STUDIO_API_KEY=
AI_GATEWAY_API_KEY=

# Billing (Optional)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_MONTHLY_PRICE_ID=
STRIPE_YEARLY_PRICE_ID=

# Analytics (Optional)
POSTHOG_KEY=
POSTHOG_ENABLE_REPLAY=false

# Monitoring (Optional)
SENTRY_DSN=

# Marketing site (Optional)
LYDIE_API_KEY=

# ==========================================
# Docker / Self-Hosted Only
# ==========================================
# These are NOT needed for SST deployments — SST derives them from
# the resources it creates (buckets, routers, services, etc.).
# Only set these when running via Docker Compose or on a VPS.

# Application
APP_STAGE=development
NODE_ENV=development
FRONTEND_URL=http://localhost:3000
BETTER_AUTH_BASE_URL=http://localhost:3001/internal/public/auth
CORS_ALLOWED_ORIGINS=http://localhost:3000

# Object storage (MinIO for local dev, S3-compatible for production)
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET_ASSETS=lydie-assets
S3_BUCKET_EXPORTS=lydie-exports
S3_FORCE_PATH_STYLE=true
ASSETS_PUBLIC_BASE_URL=http://localhost:9000

# Email
EMAIL_PROVIDER=smtp
EMAIL_FROM=no-reply@yourdomain.com
EMAIL_FROM_NAME=Your App Name
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SECURE=false

# Zero sync server
ZERO_MUTATE_URL=http://localhost:3001/internal/zero/mutate
ZERO_QUERY_URL=http://localhost:3001/internal/zero/queries

# Frontend build variables (baked into the SPA at build time)
VITE_API_URL=http://localhost:3000
VITE_ZERO_URL=http://localhost:3000
VITE_YJS_SERVER_URL=ws://localhost:3000/yjs
VITE_ASSETS_DOMAIN=http://localhost:9000
VITE_POSTHOG_KEY=
VITE_POSTHOG_HOST=
VITE_POSTHOG_ENABLE_REPLAY=false
