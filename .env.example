# Lydie Environment Configuration
# Copy this file to .env and fill in your values
# See docs/ENVIRONMENT.md for detailed documentation

# ==========================================
# Application Settings
# ==========================================
APP_STAGE=development
APP_ENV=docker
NODE_ENV=development

# ==========================================
# Database (Required)
# ==========================================
# For local development with Docker:
DATABASE_URL=postgres://lydie:lydie@localhost:5432/lydie
# Or use direct connection for migrations:
DATABASE_URL_DIRECT=postgres://lydie:lydie@localhost:5432/lydie

# For production with PlanetScale:
# DATABASE_URL=postgres://username:password@aws.connect.psdb.cloud/lydie?sslaccept=strict
# DATABASE_URL_DIRECT=postgres://username:password@aws.connect.psdb.cloud/lydie?sslaccept=strict

# ==========================================
# Authentication (Required)
# ==========================================
# Generate a secure secret: openssl rand -base64 32
BETTER_AUTH_SECRET=change-this-to-a-secure-secret-in-production
BETTER_AUTH_BASE_URL=https://api.yourdomain.com/internal/public/auth

# OAuth providers (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_PRIVATE_KEY=
GITHUB_APP_SLUG=
SHOPIFY_CLIENT_ID=
SHOPIFY_CLIENT_SECRET=

# CORS origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://app.yourdomain.com,https://yourdomain.com,https://api.yourdomain.com

# ==========================================
# Object Storage (Required)
# ==========================================
# For local development with MinIO:
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET_ASSETS=lydie-assets
S3_BUCKET_EXPORTS=lydie-exports
S3_FORCE_PATH_STYLE=true
ASSETS_PUBLIC_BASE_URL=http://localhost:9000

# For production with AWS S3:
# S3_REGION=us-east-1
# S3_BUCKET_ASSETS=lydie-prod-assets
# S3_BUCKET_EXPORTS=lydie-prod-exports
# S3_FORCE_PATH_STYLE=false
# ASSETS_PUBLIC_BASE_URL=https://assets.yourdomain.com
# Leave S3_ENDPOINT empty for AWS (uses default endpoint)

# ==========================================
# Email (Required)
# ==========================================
# Options: smtp, ses, console
EMAIL_PROVIDER=smtp
EMAIL_FROM=no-reply@yourdomain.com
EMAIL_FROM_NAME=Your App Name

# SMTP settings (for smtp provider)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SECURE=false

# ==========================================
# AI Services (Optional)
# ==========================================
OPENAI_API_KEY=
GOOGLE_AI_STUDIO_API_KEY=
AI_GATEWAY_API_KEY=

# ==========================================
# Billing (Optional, for production)
# ==========================================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_MONTHLY_PRICE_ID=
STRIPE_YEARLY_PRICE_ID=
STRIPE_PUBLISHABLE_KEY=

# ==========================================
# Zero Sync Server (Required)
# ==========================================
ZERO_URL=https://zero.yourdomain.com
ZERO_ADMIN_PASSWORD=admin
ZERO_MUTATE_URL=https://api.yourdomain.com/internal/zero/mutate
ZERO_QUERY_URL=https://api.yourdomain.com/internal/zero/queries

# ==========================================
# Frontend Build Variables
# ==========================================
VITE_API_URL=https://api.yourdomain.com
VITE_ZERO_URL=https://zero.yourdomain.com
VITE_YJS_SERVER_URL=wss://api.yourdomain.com/yjs
VITE_ASSETS_DOMAIN=https://assets.yourdomain.com
VITE_POSTHOG_KEY=
VITE_POSTHOG_HOST=https://e.yourdomain.com
VITE_POSTHOG_ENABLE_REPLAY=false

# ==========================================
# Scheduler (Optional, defaults to memory)
# ==========================================
SCHEDULER_PROVIDER=memory
# For AWS EventBridge in production:
# SCHEDULER_PROVIDER=aws-eventbridge
# AWS_REGION=us-east-1
# ONBOARDING_LAMBDA_ARN=
# ONBOARDING_SCHEDULER_ROLE_ARN=
# WORKSPACE_EXPORT_LAMBDA_ARN=

# ==========================================
# Monitoring (Optional)
# ==========================================
SENTRY_DSN=

# ==========================================
# Marketing Site (Optional)
# ==========================================
LYDIE_API_KEY=
PUBLIC_API_URL=https://api.yourdomain.com
PUBLIC_ASSETS_DOMAIN=https://assets.yourdomain.com
PUBLIC_POSTHOG_KEY=
PUBLIC_POSTHOG_HOST=https://e.yourdomain.com
