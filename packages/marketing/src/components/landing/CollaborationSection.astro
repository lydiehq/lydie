---
import { Container } from "../Container";
---

<section class="py-12 md:py-16 relative overflow-hidden">
  <div class="md:px-4">
    <div
      class="md:rounded-xl custom-inner-shadow grainy-gradient-container md:ring md:ring-black/20 relative md:px-6 py-12"
    >
      <div
        class="absolute bottom-0 inset-x-0 h-16 bg-linear-to-t from-black/20 z-20 gradient-overlay"
      >
      </div>
      <svg class="grainy-gradient-svg">
        <filter id="collabNoiseFilter">
          <feTurbulence
            type="fractalNoise"
            baseFrequency="0.65"
            numOctaves="3"
            stitchTiles="stitch"></feTurbulence>
        </filter>
      </svg>
      <Container
        className="flex flex-col md:flex-row items-center gap-8 md:gap-12 relative z-10"
      >
        <div class="flex flex-col gap-y-4 flex-1 text-center md:text-left">
          <h2
            class="text-3xl md:text-4xl font-heading font-medium tracking-tight text-white drop-shadow-text"
          >
            Collaborate in real-time
          </h2>
          <p class="text-[15px]/relaxed text-white/90 text-balance max-w-xl">
            Work together seamlessly with your team. See changes as they happen,
            with live cursors, instant updates, and no version conflicts.
          </p>
        </div>
        <div class="flex-1 w-full max-w-lg">
          <div class="document-editor">
            <div class="editor-header">
              <div class="editor-dots">
                <div class="editor-dot"></div>
                <div class="editor-dot"></div>
                <div class="editor-dot"></div>
              </div>
              <div class="editor-title">Project Plan.md</div>
            </div>
            <div class="editor-content">
              <div class="document-line">
                <span class="document-text"># Project Plan</span>
              </div>
              <div class="document-line">
                <span class="document-text">## Overview</span>
              </div>
              <div class="document-line">
                <span class="document-text">This project aims to</span>
                <span class="typing-text typing-1"> improve collaboration</span>
                <span class="document-text"> across teams.</span>
              </div>
              <div class="document-line">
                <span class="document-text">## Key Features</span>
              </div>
              <div class="document-line">
                <span class="document-text">- Real-time editing</span>
              </div>
              <div class="document-line">
                <span class="document-text">- </span>
                <span class="typing-text typing-2">Live cursors</span>
                <span class="document-text"> for visibility</span>
              </div>
              <div class="document-line">
                <span class="document-text">- </span>
                <span class="typing-text typing-3">Instant sync</span>
                <span class="document-text"> across devices</span>
              </div>

              <div class="cursor cursor-1" data-name="Alex">
                <div class="cursor-pointer"></div>
                <div class="cursor-label">Alex</div>
              </div>
              <div class="cursor cursor-2" data-name="Sam">
                <div class="cursor-pointer"></div>
                <div class="cursor-label">Sam</div>
              </div>
              <div class="cursor cursor-3" data-name="Jordan">
                <div class="cursor-pointer"></div>
                <div class="cursor-label">Jordan</div>
              </div>
            </div>
          </div>
        </div>
      </Container>
    </div>
  </div>
</section>

<style>
  .drop-shadow-text {
    text-shadow:
      0 2px 8px rgba(0, 0, 0, 0.3),
      0 1px 3px rgba(0, 0, 0, 0.2);
  }

  .custom-inner-shadow {
    box-shadow:
      inset 0 2px 8px rgba(0, 0, 0, 0.15),
      inset 0 1px 4px rgba(0, 0, 0, 0.2),
      inset 0 0 0 1px rgba(0, 0, 0, 0.1),
      inset 0 -2px 12px rgba(0, 0, 0, 0.12);
  }

  /* Document Editor Styles */
  .document-editor {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .editor-header {
    background: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .editor-dots {
    display: flex;
    gap: 0.375rem;
  }

  .editor-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #dee2e6;
  }

  .editor-dot:nth-child(1) {
    background: #ff5f57;
  }

  .editor-dot:nth-child(2) {
    background: #ffbd2e;
  }

  .editor-dot:nth-child(3) {
    background: #28ca42;
  }

  .editor-title {
    font-size: 0.8125rem;
    color: #495057;
    font-weight: 500;
  }

  .editor-content {
    padding: 1.5rem;
    min-height: 280px;
    position: relative;
    background: white;
    font-family:
      ui-monospace, "Cascadia Code", "Source Code Pro", Menlo, Consolas,
      "DejaVu Sans Mono", monospace;
    font-size: 0.875rem;
    line-height: 1.75;
    color: #212529;
  }

  .document-line {
    position: relative;
    min-height: 1.75em;
  }

  .document-text {
    color: #212529;
  }

  .typing-text {
    color: #495057;
    position: relative;
  }

  .typing-text::after {
    content: "|";
    color: currentColor;
    animation: blink 1s infinite;
    margin-left: 1px;
  }

  @keyframes blink {
    0%,
    50% {
      opacity: 1;
    }
    51%,
    100% {
      opacity: 0;
    }
  }

  /* Cursor Styles */
  .cursor {
    position: absolute;
    z-index: 10;
    pointer-events: none;
  }

  .cursor-pointer {
    width: 2px;
    height: 1.5em;
    background: currentColor;
    box-shadow: 0 0 4px currentColor;
  }

  .cursor-label {
    position: absolute;
    top: -1.5rem;
    left: 0;
    padding: 0.25rem 0.5rem;
    background: currentColor;
    color: white;
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: 4px;
    white-space: nowrap;
    font-family:
      system-ui,
      -apple-system,
      sans-serif;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  }

  .cursor-label::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 0.5rem;
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-top: 4px solid currentColor;
  }

  /* Cursor 1 - Alex (Blue) */
  .cursor-1 {
    color: #3b82f6;
    animation: cursor-move-1 16s ease-in-out infinite;
  }

  @keyframes cursor-move-1 {
    0% {
      top: 4.5em;
      left: 0;
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    20% {
      top: 4.5em;
      left: 8rem;
    }
    35% {
      top: 4.5em;
      left: 8rem;
    }
    50% {
      top: 6.25em;
      left: 2rem;
    }
    65% {
      top: 6.25em;
      left: 2rem;
    }
    80% {
      top: 8em;
      left: 0;
    }
    95% {
      opacity: 1;
    }
    100% {
      top: 8em;
      left: 0;
      opacity: 0;
    }
  }

  .typing-1 {
    animation: typing-1 16s ease-in-out infinite;
    opacity: 0;
    display: inline-block;
    overflow: hidden;
    white-space: nowrap;
  }

  @keyframes typing-1 {
    0%,
    19% {
      opacity: 0;
      width: 0;
    }
    20% {
      opacity: 1;
      width: 0;
    }
    35% {
      opacity: 1;
      width: 100%;
    }
    36%,
    100% {
      opacity: 0;
      width: 100%;
    }
  }

  /* Cursor 2 - Sam (Green) */
  .cursor-2 {
    color: #10b981;
    animation: cursor-move-2 18s ease-in-out infinite;
    animation-delay: 3s;
  }

  @keyframes cursor-move-2 {
    0% {
      top: 8em;
      left: 0;
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    25% {
      top: 8em;
      left: 0;
    }
    40% {
      top: 8em;
      left: 1.5rem;
    }
    55% {
      top: 8em;
      left: 1.5rem;
    }
    70% {
      top: 9.75em;
      left: 0;
    }
    85% {
      top: 9.75em;
      left: 0;
    }
    95% {
      opacity: 1;
    }
    100% {
      top: 9.75em;
      left: 0;
      opacity: 0;
    }
  }

  .typing-2 {
    animation: typing-2 18s ease-in-out infinite;
    animation-delay: 3s;
    opacity: 0;
    display: inline-block;
    overflow: hidden;
    white-space: nowrap;
  }

  @keyframes typing-2 {
    0%,
    24% {
      opacity: 0;
      width: 0;
    }
    25% {
      opacity: 1;
      width: 0;
    }
    55% {
      opacity: 1;
      width: 100%;
    }
    56%,
    100% {
      opacity: 0;
      width: 100%;
    }
  }

  /* Cursor 3 - Jordan (Purple) */
  .cursor-3 {
    color: #8b5cf6;
    animation: cursor-move-3 14s ease-in-out infinite;
    animation-delay: 6s;
  }

  @keyframes cursor-move-3 {
    0% {
      top: 6.25em;
      left: 0;
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    30% {
      top: 6.25em;
      left: 0;
    }
    45% {
      top: 6.25em;
      left: 1.5rem;
    }
    60% {
      top: 6.25em;
      left: 1.5rem;
    }
    75% {
      top: 4.5em;
      left: 0;
    }
    95% {
      opacity: 1;
    }
    100% {
      top: 4.5em;
      left: 0;
      opacity: 0;
    }
  }

  .typing-3 {
    animation: typing-3 14s ease-in-out infinite;
    animation-delay: 6s;
    opacity: 0;
    display: inline-block;
    overflow: hidden;
    white-space: nowrap;
  }

  @keyframes typing-3 {
    0%,
    29% {
      opacity: 0;
      width: 0;
    }
    30% {
      opacity: 1;
      width: 0;
    }
    60% {
      opacity: 1;
      width: 100%;
    }
    61%,
    100% {
      opacity: 0;
      width: 100%;
    }
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .editor-content {
      min-height: 240px;
      font-size: 0.75rem;
    }

    .cursor-label {
      font-size: 0.625rem;
      padding: 0.125rem 0.375rem;
    }
  }
</style>
