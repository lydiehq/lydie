---
import type { ContentNode } from "@lydie/core/content";
import { createHeadingIdGenerator } from "@lydie/core/heading-ids";

import ContentNodeRenderer from "@/components/content/ContentNodeRenderer.astro";

interface Props {
  content: ContentNode;
  linkPrefix?: string;
  linkResolver?: (ref: {
    href: string;
    id?: string;
    slug?: string;
    title?: string;
    parentId?: string;
    parentSlug?: string;
    collectionHandle?: string;
    type?: "internal" | "external";
  }) => string;
}

const { content, linkPrefix, linkResolver } = Astro.props;
const nextHeadingId = createHeadingIdGenerator();
---

<ContentNodeRenderer
  node={content}
  linkPrefix={linkPrefix}
  linkResolver={linkResolver}
  nextHeadingId={nextHeadingId}
/>
