---
import Layout from "../../layouts/Layout.astro";
import Container from "../../components/Container.astro";
import Breadcrumbs from "../../components/Breadcrumbs.astro";
import { Button } from "../../components/generic/Button";
import { ChevronRightRegular } from "@fluentui/react-icons";
import Cursor from "../../components/generic/Cursor.astro";
import Divider from "../../components/landing/Divider.astro";
import { FAQSection } from "../../components/tools/FAQSection";
import { GradientOutline } from "../../components/generic/GradientOutline";

const title = "Real-Time Collaborative Editing - Lydie";
const description =
  "Work together seamlessly with your team. See changes as they happen, with live cursors, instant updates, and built-in communication tools.";

const faqItems = [
  {
    q: "How does real-time collaboration work in Lydie?",
    a: "Lydie uses CRDT (Conflict-free Replicated Data Type) technology to enable real-time collaboration. When multiple users edit the same document simultaneously, all changes are synchronized instantly across all connected devices. Each user sees live cursors showing where others are working, and edits merge seamlessly without conflicts.",
  },
  {
    q: "Can I see who is currently viewing or editing a document?",
    a: "Yes! Lydie shows presence indicators and live cursors for all active collaborators. You'll see colored cursors with user names showing exactly where each person is working in the document. The sidebar also displays avatars of everyone currently viewing or editing.",
  },
  {
    q: "What happens if two people edit the same text at the same time?",
    a: "Lydie's CRDT-based architecture automatically handles concurrent edits without conflicts. Both changes are preserved and merged intelligently. You never have to worry about 'version conflicts' or lost edits, even when multiple people type in the same area simultaneously.",
  },
  {
    q: "Do I need an internet connection to use collaboration features?",
    a: "Yes. Real-time collaboration requires an internet connection to sync changes between users.",
  },
  {
    q: "Is there a limit to how many people can collaborate on a document?",
    a: "There's no hard limit on the number of collaborators. However, for optimal performance, we recommend keeping documents to under 100 concurrent editors. For most teams and use cases, this is more than sufficient.",
  },
];
---

<style>
  .collab-text {
    position: relative;
    display: inline-block;
  }

  .collab-highlight {
    position: absolute;
    left: -2px;
    top: -2px;
    bottom: -2px;
    border-radius: 8px;
    z-index: -1;
    width: 0;
    opacity: 0;
    animation: highlight-grow 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  @keyframes highlight-grow {
    0% {
      width: 0;
      opacity: 0;
    }
    100% {
      width: calc(100% + 4px);
      opacity: 1;
    }
  }

  @keyframes cursor-appear {
    0% {
      opacity: 0;
      transform: scale(0.8);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  .cursor-wrapper {
    animation: cursor-appear 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    opacity: 0;
    position: absolute;
    right: -2px;
    top: 2px;
  }

  .cursor-wrapper-left {
    animation: cursor-appear 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    opacity: 0;
    position: absolute;
    left: -2px;
    top: 2px;
  }

  .collab-highlight-rtl {
    position: absolute;
    right: -2px;
    top: -2px;
    bottom: -2px;
    border-radius: 8px;
    z-index: -1;
    width: 0;
    opacity: 0;
    animation: highlight-grow-rtl 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)
      forwards;
  }

  @keyframes highlight-grow-rtl {
    0% {
      width: 0;
      opacity: 0;
    }
    100% {
      width: calc(100% + 4px);
      opacity: 1;
    }
  }
</style>

<Layout title={title} description={description}>
  <div class="max-w-4xl relative">
    <!-- 768px internal width, centered (w-1 = 4px each side) -->
    <div
      class="fixed inset-y-0 w-1 border-r border-black/4"
      style="left: calc(50% - 388px)"
    >
    </div>
    <div
      class="fixed inset-y-0 w-1 border-r border-black/4"
      style="right: calc(50% - 388px)"
    >
    </div>
  </div>
  <Container
    className="flex flex-col items-center justify-center min-h-[60vh] py-16 gap-y-32"
  >
    <div class="w-full max-w-4xl">
      <Breadcrumbs
        items={[
          { label: "Features", href: "/features" },
          { label: "Collaborative Editing" },
        ]}
      />
    </div>
    <div class="text-center relative py-12 size-full">
      <GradientOutline />
      <h1
        class="text-3xl font-medium text-black/85 tracking-tight mb-6 leading-tight"
      >
        <span class="collab-text">
          Real-Time Collaborative Editing
          <span
            class="collab-highlight"
            style="background-color: #30bced33; animation-delay: 0s;"></span>
          <span class="cursor-wrapper" style="animation-delay: 0.6s;">
            <Cursor name="Sarah" colorId="cyan" position="right" />
          </span>
        </span>
      </h1>
      <p class="text-base text-black/60 max-w-md mx-auto mb-8 text-balance">
        Work together seamlessly with your team.<br />
        <span class="collab-text">
          See changes as they happen
          <span
            class="collab-highlight-rtl"
            style="background-color: #6eeb8333; animation-delay: 0.2s;"></span>
          <span class="cursor-wrapper-left" style="animation-delay: 0.8s;">
            <Cursor name="Peter" colorId="green" position="left" />
          </span>
        </span>, with live cursors, instant updates, and no version conflicts.
      </p>
      <div class="flex items-center justify-center gap-4">
        <Button href="https://app.lydie.co/auth" size="lg" intent="primary">
          <span>Start collaborating</span>
          <ChevronRightRegular className="size-4" />
        </Button>
        <a
          href="https://lydie.co/blog/real-time-collaboration-implementation-in-lydie"
          class="text-black/70 hover:text-black transition-colors text-sm font-medium"
        >
          Behind the scenes
        </a>
      </div>
    </div>
    <div class="max-w-xl mx-auto flex flex-col gap-y-8">
      <div class="prose mx-auto">
        <p class="">
          Lydie's real-time collaborative editing feature enables multiple team
          members to work together on the same document simultaneously. Built on
          advanced CRDT (Conflict-free Replicated Data Type) technology, our
          collaborative editing software ensures that all changes sync instantly
          across all devices without conflicts or lost edits.
        </p>
        <p class="">
          With live cursors showing where teammates are working, presence
          indicators displaying who's currently active, and seamless
          synchronization, Lydie provides a modern alternative to traditional
          collaborative editing tools like Google Docs. Whether you're working
          on documentation, articles, or project plans, our real-time
          collaborative editing makes team collaboration effortless and
          efficient.
        </p>
        <p class="">
          <a
            href="https://lydie.co/blog/real-time-collaboration-implementation-in-lydie"
          >
            Learn more about how we implemented real-time collaboration
          </a>
          in Lydie, including the technical details and architecture decisions behind
          our collaborative editing system.
        </p>
      </div>
      <Divider />
      <FAQSection faqs={faqItems} client:load />
    </div>
  </Container>
</Layout>
