---
import BaseHead from "../components/BaseHead.astro";
import PostHog from "../components/PostHog.astro";
import Container from "../components/Container.astro";
import { DiscordIcon, GitHubIcon } from "../components/icons";
import { Header } from "../components/Header";
import { Logo } from "../components/Logo";
import "../styles/tailwind.css";

export interface Props {
  title: string;
  description: string;
  canonicalURL?: URL | string;
}

const { title, description, canonicalURL } = Astro.props;

const linkGroups = [
  {
    title: "General",
    links: [
      {
        href: "/blog",
        label: "Blog",
      },
      {
        href: "/about",
        label: "About",
      },
    ],
  },
  {
    title: "Product",
    links: [
      {
        href: "/pricing",
        label: "Pricing",
      },
      {
        href: "/use-cases",
        label: "Use cases",
      },
      {
        href: "/roadmap",
        label: "Roadmap",
      },
      {
        href: "/features",
        label: "Features",
      },
      {
        href: "/integrations",
        label: "Integrations",
      },
    ],
  },
  {
    title: "Resources",
    links: [
      {
        label: "Templates",
        href: "/templates",
      },
      {
        label: "Compare",
        href: "/compare",
      },
      {
        label: "Free Tools",
        href: "/tools",
      },
      {
        label: "GitHub",
        href: "https://github.com/lydiehq/lydie",
        target: "_blank",
      },

      {
        label: "Privacy",
        href: "/privacy",
      },
    ],
  },
];
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead
      title={title}
      description={description}
      canonicalURL={canonicalURL}
    />
    <PostHog />
  </head>
  <body class="bg-white bg-grain">
    <Header client:load />
    <div class="flex flex-col min-h-screen">
      <main id="main-content" class="flex-1" tabindex="-1">
        <slot />
      </main>
      <div class="relative">
        <footer class="border-t border-black/5 bg-white backdrop-blur-sm">
          <Container
            className="flex flex-col md:flex-row justify-between gap-8 md:gap-12 py-12"
          >
            <a href="/" class="self-start md:self-auto">
              <Logo className="text-gray-200 size-6 hover:text-gray-300" />
            </a>
            <nav
              class="grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-16"
              aria-label="Footer links"
            >
              {
                linkGroups.map((group) => (
                  <div class="flex flex-col gap-y-6">
                    <h3 class="text-sm/0 font-medium text-gray-900">
                      {group.title}
                    </h3>
                    <ul class="flex flex-col gap-y-1.5">
                      {group.links.map((link) => (
                        <li>
                          <a
                            href={link.href}
                            class="text-[0.8125rem]/0 text-gray-700 hover:text-gray-800 py-1.5"
                            target={link.target || undefined}
                          >
                            {link.label}
                          </a>
                        </li>
                      ))}
                    </ul>
                  </div>
                ))
              }
            </nav>
          </Container>
          <div class="border-t border-black/5 py-3">
            <Container className="flex justify-between items-center">
              <span class="text-xs text-gray-400"
                >Â© {new Date().getFullYear()} Lydie</span
              >
              <div class="flex items-center gap-x-1">
                <a
                  aria-label="Join our Discord server"
                  href="https://discord.gg/gHzKhW9vzg"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-gray-300 hover:text-gray-400 p-1"
                >
                  <DiscordIcon className="size-5" />
                </a>
                <a
                  aria-label="Star us on GitHub"
                  href="https://github.com/lydiehq/lydie"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-gray-300 hover:text-gray-400 p-1"
                >
                  <GitHubIcon className="size-5" />
                </a>
              </div>
            </Container>
          </div>
        </footer>
      </div>
    </div>
  </body>
</html>
