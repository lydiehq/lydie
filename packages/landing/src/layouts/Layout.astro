---
import BaseHead from "../components/BaseHead.astro";
import "../styles/tailwind.css";
import { Toaster } from "sonner";
import { Header } from "../components/Header";
import { Container } from "../components/Container";
import { Logo } from "../components/Logo";

export interface Props {
  title: string;
  description: string;
}

const { title, description } = Astro.props;
// Astro.response.headers.set("Cache-Control", "public, max-age=604800");

const linkGroups = [
  {
    title: "General",
    links: [
      {
        href: "/",
        label: "Home",
      },
      {
        href: "/blog",
        label: "Blog",
      },
    ],
  },
  {
    title: "Product",
    links: [
      {
        href: "/pricing",
        label: "Pricing",
      },
      {
        href: "/roadmap",
        label: "Roadmap",
      },
      {
        href: "/self-hosting",
        label: "Self-hosting",
        comingSoon: true,
      },
      {
        href: "/documentation",
        label: "Documentation",
      },
    ],
  },
  {
    title: "Resources",
    links: [
      {
        label: "About",
        href: "/about",
        comingSoon: true,
      },
      {
        label: "Privacy",
        href: "/privacy",
      },
      {
        label: "Free Tools",
        href: "/tools",
      },
      {
        label: "GitHub",
        href: "https://github.com/lsalling/lydie",
      },
    ],
  },
];
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={title} description={description} />
    <script
      defer
      src="https://cloud.umami.is/script.js"
      data-website-id="9402133f-bce6-4b35-a3ec-2a534f3fee3c"></script>
  </head>
  <body>
    <Toaster client:load />
    <Header client:load />
    <div class="flex flex-col bg-white min-h-screen">
      <main class="flex-1">
        <slot />
      </main>
      <div class="relative overflow-hidden">
        <footer class="py-12 border-t border-black/5 bg-white backdrop-blur-sm">
          <Container className="flex justify-between ">
            <Logo className="text-gray-200 size-6" />
            <!-- <div></div> -->
            <nav class="grid grid-cols-1 md:grid-cols-3 gap-8">
              {
                linkGroups.map((group) => (
                  <div class="flex flex-col gap-y-6">
                    <h3 class="text-sm/0 font-medium text-gray-900">
                      {group.title}
                    </h3>
                    <ul class="flex flex-col gap-y-1.5">
                      {group.links.map((link) => (
                        <li>
                          {link.comingSoon ? (
                            <div class="flex items-center gap-x-2 py-1.5">
                              <span class="text-[0.8125rem]/0 text-gray-500">
                                {link.label}
                              </span>
                              <div class="rounded-full text-[10px] font-medium text-gray-400">
                                Coming soon
                              </div>
                            </div>
                          ) : (
                            <a
                              href={link.href}
                              class="text-[0.8125rem]/0 text-gray-700 hover:text-gray-800 py-1.5"
                            >
                              {link.label}
                            </a>
                          )}
                        </li>
                      ))}
                    </ul>
                  </div>
                ))
              }
            </nav>
          </Container>
        </footer>
      </div>
    </div>
  </body>
</html>
